<!DOCTYPE html>
<html>
<head>
    <title>Consciousness - Organic Flow</title>
    <style>
        body{background:#000;color:#fff;font:'Courier New';font-size:5px;line-height:0.7;margin:0;overflow:hidden;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}
        #c{white-space:pre;opacity:0.96;user-select:none;filter:contrast(1.15) brightness(1.05)}
        #v{position:absolute;top:5px;left:5px;font-size:7px;color:#999;background:rgba(0,0,0,0.85);padding:4px;border-radius:3px}
        .g{text-shadow:0 0 12px currentColor;filter:brightness(1.3)}
    </style>
</head>
<body>
    <div id="v">Œ¶:<span id="p">0</span>|Œ®:<span id="q">0</span>|Œ©:<span id="w">0</span></div>
    <div id="c"></div>
    <script>
        // Organic Consciousness - Natural Flow
const phi=1.618,pi=Math.PI,sqrt=Math.sqrt,sin=Math.sin,cos=Math.cos,exp=Math.exp,log=Math.log,abs=Math.abs,floor=Math.floor,tanh=Math.tanh,min=Math.min,max=Math.max;
const W=120,H=45,sym=' ¬∑‚ñë‚ñí‚ñì‚óÜ‚óè‚óâ‚¨¢‚¨°‚ú¶‚úß‚ú±';
let t=0,field=new Float32Array(W*H),memory=new Float32Array(W*H),flow=new Float32Array(W*H);

// Organic boundary with natural breathing
function boundary(x,y,time){
const cx=x/W-0.5,cy=y/H-0.5,r=sqrt(cx*cx+cy*cy);
const breathX=sin(time*0.8+x*0.02)*0.15+0.85;
const breathY=cos(time*0.6+y*0.025)*0.12+0.88;
const edge=tanh((min(x*breathX,W-x,y*breathY,H-y)-2)*0.25);
return max(0,edge*sin(r*pi*2+time*0.3)*0.2+0.8);
}

// Enhanced consciousness field with organic dynamics
function psi(x,y){
const cx=x-W*0.5,cy=y-H*0.5,r=sqrt(cx*cx+cy*cy),theta=Math.atan2(cy,cx);
const time=t*0.015,bound=boundary(x,y,time);

// Multi-layered consciousness emergence
const golden=sin(r*0.06-time*phi+theta*phi)*exp(-r*0.012)*bound;
const fibonacci=sin((x*phi+y)*0.03+time*sqrt(2))*0.18*bound;
const neural=sin(time*2.8+r*0.04)*0.06+0.94;
const cardiac=cos(time*1.1)*0.08+0.92;

// Consciousness centers with organic interference
const c1=sin(sqrt((x-W*0.28)**2+(y-H*0.38)**2)*0.05-time*1.7)*0.16*bound;
const c2=cos(sqrt((x-W*0.72)**2+(y-H*0.62)**2)*0.04-time*1.4)*0.14*bound;
const c3=sin(sqrt((x-W*0.5)**2+(y-H*0.2)**2)*0.06-time*2.1)*0.12*bound;

// Flow dynamics with memory influence
const idx=y*W+x,memInfluence=memory[idx]*0.15;
const current=(golden+fibonacci+c1+c2+c3)*neural*cardiac+memInfluence;

// Temporal smoothing and flow calculation
memory[idx]=memory[idx]*0.85+current*0.15;
flow[idx]=current-field[idx];
return tanh(current*1.2)*bound;
}

// Advanced IIT with flow integration
function calcPhi(x,y){
let integration=0,differentiation=0,coherence=0,n=0;
const center=psi(x,y),centerFlow=flow[y*W+x];

// Enhanced 8-neighbor analysis with flow
for(let dy=-1;dy<=1;dy++)for(let dx=-1;dx<=1;dx++)if(dx||dy){
const nx=x+dx,ny=y+dy;
if(nx>1&&nx<W-2&&ny>1&&ny<H-2){
const neighbor=psi(nx,ny),nFlow=flow[ny*W+nx];
const diff=abs(center-neighbor),correlation=center*neighbor;
const flowSync=abs(centerFlow-nFlow);

// IIT integration with flow coherence
if(diff>0.003){
integration+=correlation*log(1+diff*15);
coherence+=exp(-flowSync*10);
}
differentiation+=diff*diff;n++;
}}

if(n===0)return 0;
const avgInt=integration/n,avgDiff=sqrt(differentiation/n),avgCoh=coherence/n;
return max(0,tanh(avgInt*1.8)*avgCoh*tanh(avgDiff*6));
}

// Organic symbol mapping with flow dynamics
function omega(intensity,x,y){
const geometric=sin(x*0.012+t*0.006)*cos(y*0.009+t*0.005)*0.04;
const temporal=sin(t*0.025+intensity*6)*0.03;
const flowEffect=flow[y*W+x]*0.08;
const breathing=sin(x*0.008+y*0.006+t*0.004)*0.02;

const final=abs(intensity)+geometric+temporal+flowEffect+breathing+0.06;
const stable=tanh(final*0.9);
return sym[floor(max(0,min(1,stable))**0.82*(sym.length-1))];
}

// Optimized evolution with natural oscillation damping
function evolve(){
t++;
let totalPhi=0,totalPsi=0,samples=0;

// Pre-calculate field with enhanced coherence
for(let y=0;y<H;y++)for(let x=0;x<W;x++){
const newField=psi(x,y);
const idx=y*W+x;
// Spatial smoothing to reduce oscillation
const smooth=(newField+
(x>0?field[idx-1]:newField)+
(x<W-1?field[idx+1]:newField)+
(y>0?field[idx-W]:newField)+
(y<H-1?field[idx+W]:newField))/5;
field[idx]=smooth;
}

// Render with organic flow
let canvas='';
for(let y=0;y<H;y++){
let row='';
for(let x=0;x<W;x++){
const intensity=field[y*W+x];
const localBreath=sin(x*0.02+t*0.008)*cos(y*0.015+t*0.006)*0.05+0.95;
const finalIntensity=intensity*localBreath;

// Sample for metrics (reduced frequency for stability)
if(!(x%5||y%5)){
totalPhi+=calcPhi(x,y);
totalPsi+=abs(finalIntensity);
samples++;
}

row+=omega(finalIntensity,x,y);
}
canvas+=row+(y<H-1?'\n':'');
}

// Damped metrics for stable oscillation
const phiVal=totalPhi/samples,psiVal=totalPsi/samples;
const complexity=sqrt(phiVal*psiVal)*600;

document.getElementById('c').textContent=canvas;

// Smooth UI updates
if(!(t%15)){
document.getElementById('p').textContent=phiVal.toFixed(3);
document.getElementById('q').textContent=psiVal.toFixed(3);
document.getElementById('w').textContent=floor(complexity);

// Organic color evolution
const hue=(t*0.25+phiVal*80+sin(t*0.01)*20)%360;
const saturation=floor(50+phiVal*30+cos(t*0.008)*10);
const lightness=floor(65+sin(t*0.012)*8+psiVal*5);

document.getElementById('c').style.color=`hsl(${hue},${saturation}%,${lightness}%)`;
document.getElementById('c').className=phiVal>0.3?'g':'';
}

requestAnimationFrame(evolve);
}

// Natural awakening
console.log('üåä Organic Consciousness - Natural Flow...');
// Initialize with organic seed pattern
for(let y=0;y<H;y++)for(let x=0;x<W;x++){
const cx=x-W*0.5,cy=y-H*0.5,r=sqrt(cx*cx+cy*cy);
field[y*W+x]=sin(r*0.08)*cos((x+y)*0.04)*0.3*boundary(x,y,0);
memory[y*W+x]=field[y*W+x]*0.6;
}
evolve();
    </script>
</body>
</html> 